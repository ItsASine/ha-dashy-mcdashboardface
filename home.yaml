title: Home
views:
  - title: Overview
    path: home
    type: sidebar
    layout:
      grid-gap: 12px

    ########################################
    #  HEADER CARDS (fixed)
    ########################################
    cards:
      - type: custom:mushroom-alarm-control-panel-card
        entity: alarm_control_panel.ha_alarm
        name: Alarm

      - type: custom:mushroom-weather-card
        entity: weather.home
        layout: vertical

      ########################################
      #  PEOPLE  — autogenerated chips
      ########################################
      - type: custom:auto-entities
        card:
          type: grid
          columns: 4
          square: false
        card_param: cards
        filter:
          include:
            - domain: person
        sort:
          method: friendly_name
        template: >-
          {{
            {
              "type": "custom:mushroom-person-chip",
              "entity": entity,
              "tap_action": {
                "action": "navigate",
                "navigation_path": "/lovelace/home/" + entity.split('.')[1]
              }
            }
          }}

      ########################################
      #  ROOMS — one Area card each
      ########################################
      - type: custom:auto-entities
        card:
          type: grid
          columns: 1
          square: false
        card_param: cards
        filter:
          include:
            # Pick ONE representative entity per area.
            # Using “climate” guarantees only one per room for most setups.
            - domain: climate
        sort:
          method: area

        # Build an Area card for whatever room that entity belongs to
        template: >-
          {{
            {
              "type": "area",
              "area": area_id(entity) or "default",
              "view_layout": { "position": "sidebar" }
            }
          }}
